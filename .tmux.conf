# tmux 2.2 config
set -g utf8 on
set -g default-terminal "screen-256color"
set -g focus-events on
set -g repeat-time 0
set -g display-time 4000
set -g history-limit 50000
set -sg escape-time 0

setw -g mode-keys vi
set -g status-keys emacs

setw -g aggressive-resize on
set -g base-index 1
set -g pane-base-index 1

# title bar
set -g set-titles on
set -g set-titles-string '#T | #W #I[#P]'

# status bar
#set -g status-utf8 on
set -g status-interval 5
set -g status-bg black
set -g status-fg white
set -g status-position bottom
set -g status-left-length 90
set -g status-right-length 60
set -g status-justify left

set -g status-left '#[fg=Green]#(whoami)#[fg=white]::#[fg=blue]#(hostname -s) #[fg=yellow]$'
set -g status-right '#[fg=Cyan]#S #[fg=white]%a %d %b %R'
#set -g status-right "{#[bold,fg=cyan]#(uptime | awk -F: '{print $(NF\\)}' | sed s/' '//)#[nobold,fg=default]} {#[bold,fg=cyan]%a %m/%d %H:%M%p#[nobold,fg=default]}"

# message bar
set -g message-attr bright
set -g message-bg black
set -g message-fg blue
set -g display-panes-time 2000

set -g pane-active-border-fg yellow

# enable activity alerts
setw -g monitor-activity on
set -g visual-activity on

unbind C-b # prefix
unbind %   # split-window -v
unbind '"' # split-window -h
unbind h   # [pane selection]
unbind j
unbind k
unbind l

set -g prefix ` # perhaps not ideal

bind C-Space last-window
bind C-d detach
bind C-c command-prompt -p command: "new window -n '%1' '%1'"
bind r source-file /home/dled/.tmux.conf\; display-message "Configuration reloaded"
bind - split-window -v
bind \ split-window -h
bind Enter break-pane

bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind C-h resize-pane -L #bind -n C-h run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-h) || tmux select-pane -L"
bind C-j resize-pane -D #bind -n C-j run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-j) || tmux select-pane -D"
bind C-k resize-pane -U #bind -n C-k run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-k) || tmux select-pane -U"
bind C-l resize-pane -R #bind -n C-l run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys C-l) || tmux select-pane -R"
#bind -n C-\ run "(tmux display-message -p '#{pane_current_command}' | grep -iq vim && tmux send-keys 'C-\\') || tmux select-pane -l"

# function keys select windows (binding pane-/base-index to 1)
bind -n F1 select-window -t 1
bind -n F2 select-window -t 2
bind -n F3 select-window -t 3
bind -n F4 select-window -t 4
bind -n F5 select-window -t 5
bind -n F6 select-window -t 6
bind -n F7 select-window -t 7
bind -n F8 select-window -t 8
bind -n F9 select-window -t 9
bind -n F10 select-window -t 10


# mouse support
setw -g mode-mouse on
#set -g mouse-select-pane on
set -g mouse-resize-pane on
#set -g mouse-select-window on


# tpm
#set -g @plugin 'caigondim/maglev'
#set -g @plugin 'tmux-plugins/tpm'
#set -g @plugin 'tmux-plugins/tmux-sensible'
#set -g @plugin 'tmux-plugins/tmux-resurrect'
#set -g @plugin 'tmux-plugins/tmux-continuum'
#set -g @plugin 'tmux-plugins/tmux-open'
#set -g @plugin 'tmux-plugins/tmux-copycat'
#set -g @plugin 'tmux-plugins/tmux-yank'
#set -g @plugin 'tmux-plugins/tmux-pain-control'
#set -g @plugin 'tmux-plugins/tmux-battery'
#set -g @plugin 'tmux-plugins/tmux-cpu'

#run '$HOME/.tmux/plugins/tpm/tpm'
